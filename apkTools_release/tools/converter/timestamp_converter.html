<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ—¶é—´æˆ³è½¬æ¢å·¥å…·</title>
  <link rel="stylesheet" href="../../assets/css/theme.css">
  <style>
    /* ç»§æ‰¿theme.cssçš„åŸºç¡€æ ·å¼ */
    /* ä»¥ä¸‹æ˜¯å·¥å…·é¡µé¢ç‰¹å®šçš„æ ·å¼è¦†ç›– */

    .container {
      max-width: 1000px;
    }

    .home-btn {
      position: absolute;
      top: var(--spacing-lg);
      left: var(--spacing-lg);
      width: 40px;
      height: 40px;
      background: rgba(255, 255, 255, 0.2);
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--color-text-on-primary);
      text-decoration: none;
      font-size: var(--font-size-large);
      transition: all .3s;
      z-index: 10;
    }

    .home-btn:hover {
      background: rgba(255, 255, 255, 0.3);
      border-color: rgba(255, 255, 255, 0.5);
      transform: scale(1.1);
    }

    .header h1 {
      font-size: var(--font-size-xlarge);
      margin-bottom: var(--spacing-sm);
    }

    .header p {
      opacity: .9;
      font-size: var(--font-size-small);
    }

    .content {
      padding: var(--spacing-xl);
    }

    .form-section {
      background: var(--color-background-alt);
      border-radius: var(--radius-md);
      padding: var(--spacing-lg);
      margin-bottom: var(--spacing-lg);
    }

    .form-section h2 {
      font-size: var(--font-size-large);
      color: var(--color-text);
      margin-bottom: var(--spacing-lg);
      border-bottom: 2px solid var(--color-primary);
      padding-bottom: var(--spacing-sm);
    }

    .controls-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px
    }

    .form-group {
      margin-bottom: 18px
    }

    .form-group label {
      display: block;
      font-weight: 600;
      color: #495057;
      margin-bottom: 8px;
      font-size: 14px
    }

    .form-group input,
    .form-group select {
      width: 100%;
      padding: 12px;
      border: 2px solid #dee2e6;
      border-radius: var(--radius-sm);
      font-size: 14px
    }

    .btn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: var(--color-text-on-primary);
      border: none;
      padding: 14px 35px;
      border-radius: var(--radius-sm);
      font-size: var(--font-size-base);
      font-weight: 600;
      cursor: pointer;
      transition: transform .2s;
      width: 100%
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, .4)
    }

    .btn-secondary {
      background: linear-gradient(135deg, #6c757d 0%, #5a6268 100%);
      margin-top: 10px
    }

    .result-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 15px;
      margin-top: 20px
    }

    .result-card {
      background: var(--color-surface);
      border: 2px solid #dee2e6;
      border-radius: var(--radius-sm);
      padding: 15px
    }

    .result-card-title {
      font-weight: 600;
      color: #495057;
      margin-bottom: 8px;
      font-size: 14px
    }

    .result-card-value {
      font-family: 'Courier New', monospace;
      font-size: 13px;
      color: var(--color-text-secondary);
      word-break: break-all
    }

    .status {
      display: none;
      margin-top: 12px;
      padding: 10px;
      border-radius: 8px
    }

    .status.show {
      display: block
    }

    .status.success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb
    }

    .status.error {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="header">
      <a href="../../index.html" class="home-btn" title="è¿”å›é¦–é¡µ">ğŸ </a>
      <h1>â° æ—¶é—´æˆ³è½¬æ¢å·¥å…·</h1>
      <p>æ”¯æŒç§’çº§å’Œæ¯«ç§’çº§æ—¶é—´æˆ³ä¸æ—¥æœŸæ—¶é—´äº’è½¬</p>
    </div>
    <div class="content">
      <div class="form-section">
        <h2>æ—¶é—´æˆ³è½¬æ—¥æœŸ</h2>
        <div class="controls-grid">
          <div class="form-group">
            <label for="timestampInput">æ—¶é—´æˆ³</label>
            <input type="text" id="timestampInput" placeholder="è¾“å…¥æ—¶é—´æˆ³ï¼ˆç§’æˆ–æ¯«ç§’ï¼‰">
          </div>
          <div class="form-group">
            <label for="timestampType">æ—¶é—´æˆ³ç±»å‹</label>
            <select id="timestampType">
              <option value="auto">è‡ªåŠ¨è¯†åˆ«</option>
              <option value="second">ç§’ï¼ˆ10ä½ï¼‰</option>
              <option value="millisecond">æ¯«ç§’ï¼ˆ13ä½ï¼‰</option>
            </select>
          </div>
        </div>
        <button class="btn" id="convertTimestampBtn">è½¬æ¢ä¸ºæ—¥æœŸ</button>
        <div class="result-grid" id="timestampResult"></div>
      </div>

      <div class="form-section">
        <h2>æ—¥æœŸè½¬æ—¶é—´æˆ³</h2>
        <div class="controls-grid">
          <div class="form-group">
            <label for="dateInput">æ—¥æœŸæ—¶é—´</label>
            <input type="datetime-local" id="dateInput">
          </div>
          <div class="form-group">
            <label for="outputType">è¾“å‡ºç±»å‹</label>
            <select id="outputType">
              <option value="second">ç§’ï¼ˆ10ä½ï¼‰</option>
              <option value="millisecond">æ¯«ç§’ï¼ˆ13ä½ï¼‰</option>
            </select>
          </div>
        </div>
        <button class="btn" id="convertDateBtn">è½¬æ¢ä¸ºæ—¶é—´æˆ³</button>
        <div class="result-grid" id="dateResult"></div>
      </div>

      <div class="form-section">
        <h2>å½“å‰æ—¶é—´</h2>
        <button class="btn btn-secondary" id="currentTimeBtn">è·å–å½“å‰æ—¶é—´æˆ³</button>
        <div class="result-grid" id="currentTimeResult"></div>
      </div>

      <div class="status" id="status"></div>
    </div>
  </div>

  <script>
    const timestampInput = document.getElementById('timestampInput');
    const timestampType = document.getElementById('timestampType');
    const convertTimestampBtn = document.getElementById('convertTimestampBtn');
    const dateInput = document.getElementById('dateInput');
    const outputType = document.getElementById('outputType');
    const convertDateBtn = document.getElementById('convertDateBtn');
    const currentTimeBtn = document.getElementById('currentTimeBtn');
    const timestampResult = document.getElementById('timestampResult');
    const dateResult = document.getElementById('dateResult');
    const currentTimeResult = document.getElementById('currentTimeResult');
    const status = document.getElementById('status');

    function showStatus(text, type) {
      status.textContent = text;
      status.className = 'status show ' + (type || 'success');
      setTimeout(() => status.classList.remove('show'), 3000);
    }

    function formatDate(date) {
      const year = date.getFullYear();
      const month = String(date.getMonth() + 1).padStart(2, '0');
      const day = String(date.getDate()).padStart(2, '0');
      const hours = String(date.getHours()).padStart(2, '0');
      const minutes = String(date.getMinutes()).padStart(2, '0');
      const seconds = String(date.getSeconds()).padStart(2, '0');
      return {
        dateTime: `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`,
        date: `${year}-${month}-${day}`,
        time: `${hours}:${minutes}:${seconds}`,
        iso: date.toISOString(),
        local: date.toLocaleString('zh-CN'),
        utc: date.toUTCString()
      };
    }

    function createResultCard(title, value) {
      const card = document.createElement('div');
      card.className = 'result-card';
      card.innerHTML = `
        <div class="result-card-title">${title}</div>
        <div class="result-card-value">${value}</div>
      `;
      card.onclick = () => {
        navigator.clipboard.writeText(value).then(() => {
          showStatus('å·²å¤åˆ¶ï¼š' + title, 'success');
        }).catch(() => {
          const textarea = document.createElement('textarea');
          textarea.value = value;
          document.body.appendChild(textarea);
          textarea.select();
          document.execCommand('copy');
          document.body.removeChild(textarea);
          showStatus('å·²å¤åˆ¶ï¼š' + title, 'success');
        });
      };
      return card;
    }

    convertTimestampBtn.addEventListener('click', () => {
      const timestamp = timestampInput.value.trim();
      if (!timestamp) {
        showStatus('è¯·è¾“å…¥æ—¶é—´æˆ³', 'error');
        return;
      }
      let ts = parseInt(timestamp);
      if (isNaN(ts)) {
        showStatus('æ—¶é—´æˆ³æ ¼å¼é”™è¯¯', 'error');
        return;
      }
      const type = timestampType.value;
      if (type === 'auto') {
        if (timestamp.length <= 10) ts *= 1000;
      } else if (type === 'second') {
        ts *= 1000;
      }
      const date = new Date(ts);
      if (isNaN(date.getTime())) {
        showStatus('æ—¶é—´æˆ³æ— æ•ˆ', 'error');
        return;
      }
      const formatted = formatDate(date);
      timestampResult.innerHTML = '';
      timestampResult.appendChild(createResultCard('æ—¥æœŸæ—¶é—´', formatted.dateTime));
      timestampResult.appendChild(createResultCard('æ—¥æœŸ', formatted.date));
      timestampResult.appendChild(createResultCard('æ—¶é—´', formatted.time));
      timestampResult.appendChild(createResultCard('ISO 8601', formatted.iso));
      timestampResult.appendChild(createResultCard('æœ¬åœ°æ—¶é—´', formatted.local));
      timestampResult.appendChild(createResultCard('UTC æ—¶é—´', formatted.utc));
      showStatus('è½¬æ¢æˆåŠŸ', 'success');
    });

    convertDateBtn.addEventListener('click', () => {
      const dateStr = dateInput.value;
      if (!dateStr) {
        showStatus('è¯·é€‰æ‹©æ—¥æœŸæ—¶é—´', 'error');
        return;
      }
      const date = new Date(dateStr);
      if (isNaN(date.getTime())) {
        showStatus('æ—¥æœŸæ ¼å¼é”™è¯¯', 'error');
        return;
      }
      const ts = date.getTime();
      const second = Math.floor(ts / 1000);
      const millisecond = ts;
      dateResult.innerHTML = '';
      if (outputType.value === 'second') {
        dateResult.appendChild(createResultCard('æ—¶é—´æˆ³ï¼ˆç§’ï¼‰', second.toString()));
        dateResult.appendChild(createResultCard('æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰', millisecond.toString()));
      } else {
        dateResult.appendChild(createResultCard('æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰', millisecond.toString()));
        dateResult.appendChild(createResultCard('æ—¶é—´æˆ³ï¼ˆç§’ï¼‰', second.toString()));
      }
      showStatus('è½¬æ¢æˆåŠŸ', 'success');
    });

    currentTimeBtn.addEventListener('click', () => {
      const now = new Date();
      const ts = now.getTime();
      const second = Math.floor(ts / 1000);
      const formatted = formatDate(now);
      currentTimeResult.innerHTML = '';
      currentTimeResult.appendChild(createResultCard('å½“å‰æ—¶é—´æˆ³ï¼ˆç§’ï¼‰', second.toString()));
      currentTimeResult.appendChild(createResultCard('å½“å‰æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰', ts.toString()));
      currentTimeResult.appendChild(createResultCard('æ—¥æœŸæ—¶é—´', formatted.dateTime));
      currentTimeResult.appendChild(createResultCard('ISO 8601', formatted.iso));
      showStatus('å·²è·å–å½“å‰æ—¶é—´', 'success');
    });

    dateInput.value = new Date().toISOString().slice(0, 16);
  </script>
  <script src="../../assets/js/tools.js"></script>
  <script src="../../assets/js/themes.js"></script>
  <script src="../../assets/js/theme-ui.js"></script>
</body>

</html>